(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{362:function(o,t,c){"use strict";c.r(t);var f=c(0),r=Object(f.a)({},(function(){var o=this,t=o.$createElement,c=o._self._c||t;return c("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[c("p",[o._v("现在有三个请求")]),o._v(" "),c("p",[c("span",{staticStyle:{"font-size":"10px","background-color":"#ff3232",color:"#fff"}},[o._v(" req1 ")]),o._v("、"),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v(" req2 ")]),o._v("、"),c("span",{staticStyle:{"font-size":"10px","background-color":"#ffc200",color:"#fff"}},[o._v(" req3 ")])]),o._v(" "),c("p",[o._v("比较三种协议")]),o._v(" "),c("h4",{attrs:{id:"http1"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#http1"}},[o._v("#")]),o._v(" HTTP1")]),o._v(" "),c("ul",[c("li",[o._v("一个接一个传输响应，串行传输："),c("span",{staticStyle:{"font-size":"10px","background-color":"#ff3232",color:"#fff"}},[o._v(" req1 ")]),o._v(" -> "),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v(" req2 ")]),o._v(" -> "),c("span",{staticStyle:{"font-size":"10px","background-color":"#ffc200",color:"#fff"}},[o._v(" req3 ")])]),o._v(" "),c("li",[o._v("存在问题：若当 "),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v(" req2 ")]),o._v(" 请求丢失，则需等待 "),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v(" req2 ")]),o._v(" 处理完成，才能处理后面的请求")])]),o._v(" "),c("h4",{attrs:{id:"http2"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#http2"}},[o._v("#")]),o._v(" HTTP2")]),o._v(" "),c("ul",[c("li",[o._v("将三个请求拆成小块：\n"),c("ul",[c("li",[c("span",{staticStyle:{"font-size":"10px","background-color":"#ff3232",color:"#fff"}},[o._v("req1_1")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#ff3232",color:"#fff"}},[o._v("req1_2")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#ff3232",color:"#fff"}},[o._v("req1_3")]),o._v(" ...")]),o._v(" "),c("li",[c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v("req2_1")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v("req2_2")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v("req2_3")]),o._v(" ...")]),o._v(" "),c("li",[c("span",{staticStyle:{"font-size":"10px","background-color":"#ffc200",color:"#fff"}},[o._v("req3_1")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#ffc200",color:"#fff"}},[o._v("req3_2")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#ffc200",color:"#fff"}},[o._v("req3_3")]),o._v(" ...")])])]),o._v(" "),c("li",[o._v("再以流的方式，包装成一个个 "),c("strong",[o._v("数据包")]),o._v(" 传输\n"),c("ul",[c("li",[o._v("("),c("span",{staticStyle:{"font-size":"10px","background-color":"#ff3232",color:"#fff"}},[o._v("req1_1")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v("req2_1")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v("req2_2")]),o._v(") -> ("),c("span",{staticStyle:{"font-size":"10px","background-color":"#ff3232",color:"#fff"}},[o._v("req1_2")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v("req2_3")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#ffc200",color:"#fff"}},[o._v("req3_1")]),o._v(") -> ("),c("span",{staticStyle:{"font-size":"10px","background-color":"#ff3232",color:"#fff"}},[o._v("req1_3")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#ffc200",color:"#fff"}},[o._v("req3_2")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#ffc200",color:"#fff"}},[o._v("req3_3")]),o._v(")")])])]),o._v(" "),c("li",[o._v("存在问题：在 tcp 层面以流的方式传输，说到底依然是串行的，需要一个数据包一个数据包的发送，因此当数据包中的某一个数据帧(比如 "),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v("req2_3")]),o._v(")丢失了，则整个数据包("),c("span",{staticStyle:{"font-size":"10px","background-color":"#ff3232",color:"#fff"}},[o._v("req1_2")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#00c26c",color:"#fff"}},[o._v("req2_3")]),o._v(" "),c("span",{staticStyle:{"font-size":"10px","background-color":"#ffc200",color:"#fff"}},[o._v("req3_1")]),o._v(")需要重新发送，并且后面的数据包需要等待处理结果")])]),o._v(" "),c("h4",{attrs:{id:"http3"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#http3"}},[o._v("#")]),o._v(" HTTP3")]),o._v(" "),c("ul",[c("li",[o._v("基于 udp 的传输层协议，意味着在发送 "),c("strong",[o._v("数据包")]),o._v(" 中的 "),c("strong",[o._v("数据帧")]),o._v(" 时是无序的，传输过来的数据包会存在内存中，当一个数据包中的所有数据帧都传输完成之后在合并组装起来")]),o._v(" "),c("li",[o._v("因此当某一个 "),c("strong",[o._v("数据帧")]),o._v(" 丢失的时候，只需重新发送该数据帧即可，并不会影响后续的传输")]),o._v(" "),c("li",[o._v("基本完全解决了队首阻塞问题")])])])}),[],!1,null,null,null);t.default=r.exports}}]);