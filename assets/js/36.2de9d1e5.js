(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{349:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"必备知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#必备知识"}},[t._v("#")]),t._v(" 必备知识")]),t._v(" "),a("h3",{attrs:{id:"雅虎军规"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#雅虎军规"}},[t._v("#")]),t._v(" 雅虎军规")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5b73ef38f265da281e048e51",target:"_blank",rel:"noopener noreferrer"}},[t._v("前端性能优化之雅虎35条军规"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"缓存策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缓存策略"}},[t._v("#")]),t._v(" 缓存策略")]),t._v(" "),a("ul",[a("li",[t._v("localStorage 同步")]),t._v(" "),a("li",[t._v("sessionStorage 同步")]),t._v(" "),a("li",[t._v("indexed DB 异步")]),t._v(" "),a("li",[t._v("web SQL 异步")]),t._v(" "),a("li",[t._v("Cookies 同步")])]),t._v(" "),a("h4",{attrs:{id:"对于业务逻辑："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对于业务逻辑："}},[t._v("#")]),t._v(" 对于业务逻辑：")]),t._v(" "),a("p",[t._v("将 "),a("strong",[t._v("业务逻辑代码")]),t._v(" 缓存进 localStorage ：")]),t._v(" "),a("ul",[a("li",[t._v("存：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script/a.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script/a.55ggkk.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script/a.55ggkk.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'......'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("首页 index.html -> no-cache")]),t._v(" "),a("li",[t._v("取：激活js文件\n"),a("ul",[a("li",[t._v("缓存中有\n"),a("ol",[a("li",[t._v("从缓存中取")]),t._v(" "),a("li",[t._v("'script/a.js' 取 'script/a.55ggkk.js'")])]),t._v(" "),a("ul",[a("li",[t._v("未过期\n"),a("ul",[a("li",[t._v("'script/a.55ggkk.js' 取 code")]),t._v(" "),a("li",[t._v("add script 注入 header "),a("code",[t._v('<script id="xxx">code...<\/script>')])])])])])]),t._v(" "),a("li",[t._v("缓存中没有 / 过期\n"),a("ol",[a("li",[t._v("script/a.js 请求回来，add script 注入 header "),a("code",[t._v('<script id="xxx"><\/script>')])]),t._v(" "),a("li",[t._v("script/a.js 将请求头设置为 text ，再请求一次，拿到 code")]),t._v(" "),a("li",[t._v("'script/a.js' 存 'script/a.55ggkk.js'")]),t._v(" "),a("li",[t._v("'script/a.55ggkk.js' 存 code")])])])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("basket.js 统一了浏览器缓存的 API ，统一暴露 get\\set .... ，使用起来很方便，但是也推荐自己实现")])]),t._v(" "),a("p",[a("strong",[t._v("不懂就问")]),t._v("： 当前我们已经有了HTTP缓存（HTTP状态码 304）了，为什么还要用浏览器离线缓存？")]),t._v(" "),a("p",[t._v("答：")]),t._v(" "),a("ol",[a("li",[t._v("HTTP缓存并不是完全的离线，他还是需要跟网络通讯的，还是会消耗客户端以及服务器资源")]),t._v(" "),a("li",[t._v("移动端浏览器的差异性，或者设备装的一些软件（某60手机管家。。）导致一些缓存的失效，我们为了性能做的缓存也就没有用了")])]),t._v(" "),a("h4",{attrs:{id:"对于sdk（库文件）："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对于sdk（库文件）："}},[t._v("#")]),t._v(" 对于SDK（库文件）：")]),t._v(" "),a("p",[t._v("一般使用HTTP缓存")]),t._v(" "),a("ul",[a("li",[t._v("last-modified / if-modified-since\n"),a("ul",[a("li",[t._v("最后一次修改时间")])])]),t._v(" "),a("li",[t._v("etag / if-none-match\n"),a("ul",[a("li",[t._v("验证毫秒级的文件变化")])])]),t._v(" "),a("li",[t._v("expires\n"),a("ul",[a("li",[t._v("纯粹校验过期时间（具体年月日）")]),t._v(" "),a("li",[t._v("存在缺陷：服务器时间与客户端时间存在不一致，因此 HTTP/1.1 加入了 cache-control")])])]),t._v(" "),a("li",[t._v("cache-control\n"),a("ul",[a("li",[t._v("设置过期的时间长度（秒）")])])])]),t._v(" "),a("p",[t._v("优先级： cache-control > expires > etag > last-modified")]),t._v(" "),a("h3",{attrs:{id:"网站协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网站协议"}},[t._v("#")]),t._v(" 网站协议")]),t._v(" "),a("p",[t._v("HTTP2 解决 HTTP1 的对手阻塞问题")]),t._v(" "),a("p",[t._v("HTTP3 解决 HTTP2 的 tcp 层面的对手阻塞")]),t._v(" "),a("p",[t._v("HTTP1 开启 keep-alive 之后是可以减少 tcp 握手次数，但是还是存在效率问题")]),t._v(" "),a("ol",[a("li",[t._v("串行文件传输")]),t._v(" "),a("li",[t._v("连接数过多")])]),t._v(" "),a("h2",{attrs:{id:"渲染中的性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#渲染中的性能优化"}},[t._v("#")]),t._v(" 渲染中的性能优化")]),t._v(" "),a("h3",{attrs:{id:"渲染过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#渲染过程"}},[t._v("#")]),t._v(" 渲染过程")]),t._v(" "),a("p",[t._v("首先要清楚几个概念：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("渲染")]),t._v(" : "),a("em",[t._v("模型")]),t._v(" -> "),a("em",[t._v("位图")]),t._v(" ，即根据 "),a("strong",[t._v("样式信息")]),t._v(" 和 "),a("strong",[t._v("大小信息")]),t._v(" ，为每个元素在内存中渲染它的图形，并且把它绘制到对应的位置")]),t._v(" "),a("li",[a("code",[t._v("位图")]),t._v(" : 在内存里建立一张二维表格，把一张图片的 "),a("strong",[t._v("每个像素对应的颜色")]),t._v(" 保存进去")]),t._v(" "),a("li",[t._v("位图信息保存在 DOM 树中，并且是 DOM 树种占据浏览器内存最多的内容，优化内存占用的时候优先考虑")]),t._v(" "),a("li",[t._v("一个元素可能对应多个盒（比如 inline 元素，可能会分成多行）")]),t._v(" "),a("li",[t._v("每一个盒对应着一张位图")])]),t._v(" "),a("p",[t._v("浏览器渲染的步骤：")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("JavaScript")]),t._v(" : js 操作 dom 元素")]),t._v(" "),a("li",[a("code",[t._v("Style")]),t._v(" : 计算样式，对每个图层节点进行样式计算，浏览器中表现为 Recalculate Style")]),t._v(" "),a("li",[a("code",[t._v("Layout")]),t._v(" : 布局，具体计算每个 DOM 元素最终在屏幕上显示的 "),a("code",[t._v("大小")]),t._v(" 和 "),a("code",[t._v("位置")])]),t._v(" "),a("li",[a("code",[t._v("Paint")]),t._v(" : 绘制，本质上就是填充像素的过程。包括绘制文字、颜色、图像、边框和阴影等，也就是一个 DOM 元素所有的可视效果，填充到图层中去")]),t._v(" "),a("li",[a("code",[t._v("Composite")]),t._v(" : 合成，渲染层按一定规则合并，最终将图层作为纹理上传至 GPU")])]),t._v(" "),a("p",[t._v("关于浏览器渲染的详细过程，有两个博文写的不错：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.im/entry/59f010fdf265da4315231caa",target:"_blank",rel:"noopener noreferrer"}},[t._v("浏览器渲染流程 详细分析"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://fed.taobao.org/blog/2016/04/26/performance-composite/",target:"_blank",rel:"noopener noreferrer"}},[t._v("无线性能优化：Composite | 淘系前端团队 FED"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("ul",[a("li",[a("strong",[t._v("重排")]),t._v(" 一定会引起 "),a("strong",[t._v("重绘")]),t._v(" ，但 "),a("strong",[t._v("重绘")]),t._v(" 不一定会引起 "),a("strong",[t._v("重排")])]),t._v(" "),a("li",[a("strong",[t._v("重排")]),t._v(" 是将结构打乱重新排列，"),a("strong",[t._v("重绘")]),t._v(" 是对元素进行重新绘制，它俩没有可比性")])])]),t._v(" "),a("p",[t._v("引起重排的情况：")]),t._v(" "),a("ul",[a("li",[t._v("添加或删除元素")]),t._v(" "),a("li",[t._v("元素位置改变")]),t._v(" "),a("li",[t._v("盒子模型变化")]),t._v(" "),a("li",[t._v("页面初始化")]),t._v(" "),a("li",[t._v("脚本读取某个属性 offset / scroll / client / width / height ...")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("在读写dom操作频率比较高的场景尽量使用 requestAnimationFrame API")])]),t._v(" "),a("h3",{attrs:{id:"浏览器分层"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器分层"}},[t._v("#")]),t._v(" 浏览器分层")]),t._v(" "),a("p",[t._v("css会将页面内容分层，然而存在一些默认会分层的元素：")]),t._v(" "),a("ul",[a("li",[t._v("根元素")]),t._v(" "),a("li",[t._v("position !== static")]),t._v(" "),a("li",[t._v("transform")]),t._v(" "),a("li",[t._v("半透明")]),t._v(" "),a("li",[t._v("canvas")]),t._v(" "),a("li",[t._v("video")]),t._v(" "),a("li",[t._v("overflow")])]),t._v(" "),a("h3",{attrs:{id:"硬件加速"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#硬件加速"}},[t._v("#")]),t._v(" 硬件加速")]),t._v(" "),a("p",[t._v("以下属性会开启GPU硬件加速")]),t._v(" "),a("ul",[a("li",[t._v("css 3D")]),t._v(" "),a("li",[t._v("video")]),t._v(" "),a("li",[t._v("canvas")]),t._v(" "),a("li",[t._v("webGL")]),t._v(" "),a("li",[t._v("滤镜")])]),t._v(" "),a("h3",{attrs:{id:"cpu-与-gpu-渲染的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cpu-与-gpu-渲染的区别"}},[t._v("#")]),t._v(" CPU 与 GPU 渲染的区别")]),t._v(" "),a("ul",[a("li",[t._v("相同 : 两者都有总线的概念和外界联系，有自己的缓存体系，以及数字和逻辑的运算单元，都是为计算而生的")]),t._v(" "),a("li",[t._v("不同 : CPU 主要负责 "),a("strong",[t._v("操作系统")]),t._v(" 相关的计算， GPU 主要负责和 "),a("strong",[t._v("显示")]),t._v(" 相关的计算")])]),t._v(" "),a("h2",{attrs:{id:"页面加载性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面加载性能优化"}},[t._v("#")]),t._v(" 页面加载性能优化")]),t._v(" "),a("h3",{attrs:{id:"名词"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#名词"}},[t._v("#")]),t._v(" 名词")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("TTFB")]),t._v(" "),a("ul",[a("li",[t._v("Time To First Byte 首字节时间")])])]),t._v(" "),a("li",[a("code",[t._v("FP")]),t._v(" "),a("ul",[a("li",[t._v("First Paint 首次渲染")])])]),t._v(" "),a("li",[a("code",[t._v("FCP")]),t._v(" "),a("ul",[a("li",[t._v("First Contentful Paint 首次有内容的渲染")])])]),t._v(" "),a("li",[a("code",[t._v("FMP")]),t._v(" "),a("ul",[a("li",[t._v("First Meaningful Paint 首次有意义的渲染")]),t._v(" "),a("li",[t._v("用户意识上认为可用")]),t._v(" "),a("li",[t._v("无 API 可获取事件")]),t._v(" "),a("li",[t._v("可以手动的打点记录："),a("code",[t._v("performance.mark('start'); performance.getEntriesByType('start');")])])])]),t._v(" "),a("li",[a("code",[t._v("TTI")]),t._v(" "),a("ul",[a("li",[t._v("Time To Interactive 可交互时间")]),t._v(" "),a("li",[t._v("应用完全可用")]),t._v(" "),a("li",[t._v("可用使用 "),a("a",{attrs:{href:"https://www.npmjs.com/package/tti-polyfill",target:"_blank",rel:"noopener noreferrer"}},[t._v("tti-polyfill"),a("OutboundLink")],1),t._v(" 去检测")])])]),t._v(" "),a("li",[a("code",[t._v("Long tasks")]),t._v(" "),a("ul",[a("li",[t._v("超过了50ms的任务")])])]),t._v(" "),a("li",[a("code",[t._v("SSR")]),t._v(" & "),a("code",[t._v("CSR")]),t._v(" "),a("ul",[a("li",[t._v("服务端渲染 & 客服端渲染")])])]),t._v(" "),a("li",[a("code",[t._v("Isomorphic Javascript")]),t._v(" "),a("ul",[a("li",[t._v("同构化")])])])]),t._v(" "),a("h3",{attrs:{id:"浏览器性能检测对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器性能检测对象"}},[t._v("#")]),t._v(" 浏览器性能检测对象")]),t._v(" "),a("p",[t._v("利用浏览器性能检测对象检测应用性能：")]),t._v(" "),a("ol",[a("li",[t._v("获取应用的 "),a("code",[t._v("FP")]),t._v(" 和 "),a("code",[t._v("FCP")]),t._v("：(页面需要有实际内容渲染)")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PerformanceObserver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("list")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" entry "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEntries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startTime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("duration"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("entryTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"paint"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// first-paint")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 141.321235")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// first-contentful-paint")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 141.321235")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("检测页面的 "),a("code",[t._v("Long tasks")]),t._v(" (大的、耗时较长的循环)")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PerformanceObserver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("list")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" entry "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEntries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startTime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("duration"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("entryTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"longtask"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// self")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 72.321235")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2925.32735")]),t._v("\n")])])]),a("p",[t._v("网页加载的时间轴\n"),a("img",{attrs:{src:"/blog/img/cs/webrendertime.jpg",alt:"时间轴"}})]),t._v(" "),a("h3",{attrs:{id:"白屏问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#白屏问题"}},[t._v("#")]),t._v(" 白屏问题")]),t._v(" "),a("p",[t._v("原因：")]),t._v(" "),a("ol",[a("li",[t._v("css & js 文件获取")]),t._v(" "),a("li",[t._v("js 文件解析")]),t._v(" "),a("li",[t._v("dom 生成")]),t._v(" "),a("li",[t._v("cssom 生成")]),t._v(" "),a("li",[t._v("首帧 HTML 包含内容： 基本的 dom & css")])])])}),[],!1,null,null,null);s.default=e.exports}}]);